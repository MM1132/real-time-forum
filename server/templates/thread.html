{{- /*gotype: board/internal/pages.ThreadData*/ -}}
<script src="pattern.js"></script>
{{ define "content" }}
    <div class="breadcrumbs">
        {{ range .Breadcrumbs -}}
            {{- if .IsGroup -}}
                <span class="bc-group">/{{ .Name }}</span>
            {{- else -}}
                <span class="bc-board"><a href="/board?id={{ .BoardID }}">{{ .Name }}</a></span>
            {{- end -}}
        {{- end }}
        <span class="bc-thread"><a href="/thread?id={{ .Thread.ThreadID }}">{{ .Thread.Title }}</a></span>
    </div>
    <h3>Posts</h3>
    {{ $fragment := .HighlightPost }}
    {{ range .Posts }}
        <hr>
        <div id="{{ .PostID }}" {{ if eq .PostID $fragment }}class="highlight-post"{{ end }}>
            <div>
                <span>{{ .Date.Format "2 Jan 2006, 15:04" }}</span>
                <br>
                <a href="/user?id={{.User.UserID}}">{{ .User.Name }}</a>
            </div>
            <p>{{ .Content }}</p>
        </div>
    {{ end }}
    {{ if eq .GenericData.User.UserID 0 }}
    <p>Please <a href="/login">Login</a> or <a href="/register">Register</a> to post</p>
    {{ else }}
    <form method="POST">
        <label>Post: <textarea name="post" id="" cols="30" rows="10" required="" ></textarea></label>
        <input type="submit" value="submit">
    </form>
    {{ end }}
{{ end }}
